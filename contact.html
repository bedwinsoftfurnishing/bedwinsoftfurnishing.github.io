<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Contact Bedwin Soft Furnishings">
    <title>Contact - Bedwin Soft Furnishings</title>
    <link rel="preload" href="css/style.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="css/style.min.css"></noscript>
    <style>
        nav a{padding:8px 16px 6px;border-bottom:2px solid transparent}
        nav a.active{border-bottom-color:#a97d5d}
    </style>
</head>
<body>
    <div id="cookieBanner" class="cookie-banner">
        <div class="cookie-banner-content">
            <p><strong>Third-Party Content</strong></p>
            <p>We use Google Maps on our contact page to show store locations. Loading maps will set third-party cookies. You can change this preference anytime.</p>
        </div>
        <div class="cookie-banner-buttons">
            <button id="cookieReject" class="cookie-btn cookie-btn-reject">Reject</button>
            <button id="cookieAccept" class="cookie-btn cookie-btn-accept">Accept</button>
        </div>
    </div>

    <header>
        <div class="header-top">
            <div class="company-info">
                <div class="company-name">Bedwin Soft Furnishings</div>
                <div class="company-tagline">Crafted Comfort for Your Home</div>
            </div>
        </div>
        <nav>
            <a href="index.html">Home</a>
            <a href="about.html">About Us</a>
            <a href="contact.html" class="active">Contact</a>
        </nav>
    </header>
    
    <main>
        <div class="container">
            <h1>Get in Touch</h1>
            <p>Have questions or feedback? We'd love to hear from you. Visit us, call, or fill out the form below and we'll get back to you shortly.</p>
            
            <div class="store-selector">
                <button class="store-btn active" onclick="showStore('kilkeel')">Kilkeel</button>
                <button class="store-btn" onclick="showStore('banbridge')">Banbridge</button>
            </div>
            
            <div class="contact-wrapper">
                <div class="contact-form">
                    <h2>Send us a Message</h2>
                    <form id="contactForm">
                        <input type="text" name="name" autocomplete="name" placeholder="Your Name" required>
                        <input type="email" name="email" autocomplete="email" placeholder="Your Email" required>
                        <input type="text" name="subject" autocomplete="subject" placeholder="Subject" required>
                        <textarea name="message" autocomplete="message" placeholder="Your Message" required></textarea>
                        <button type="submit">Send Message</button>
                    </form>
                </div>
                
                <div class="map-section">
                    <h2>Find Us</h2>
                    
                    <!-- Kilkeel Store -->
                    <div id="kilkeel" class="store-info active">
                        <div class="map-placeholder">
                            <div class="map-thumb" aria-hidden="true"></div>
                            <p>Google Maps will only load if you choose to accept third-party content for location previews.</p>
                            <button class="load-map-btn" data-location="kilkeel">Load map (may set third-party cookies)</button>
                        </div>

                        <div class="address-info">
                            <h3>Kilkeel</h3>
                            <p><strong>Bedwin Soft Furnishings</strong></p>
                            <p>142 Newry Road<br>Kilkeel, Newry<br>County Down<br>BT34 4ET</p>
                            <p style="margin-top: 16px;"><strong>Contact:</strong></p>
                            <p><a href="tel:028417636284">Tel: 028 4176 3284</a></p>
                            <p><a href="mailto:info@bedwinsoftfurnishing.com">Email: info@bedwinsoftfurnishing.com</a></p>
                            <p><a href="https://www.instagram.com/bedwinsoftfurnishing/?hl=en" target="_blank" rel="noopener">Instagram: @bedwinsoftfurnishing</a></p>
                            
                            <div class="hours-info">
                                <h4>Opening Hours</h4>
                                <p><span>Monday</span><span>09:00 - 17:30</span></p>
                                <p><span>Tuesday</span><span>09:00 - 17:30</span></p>
                                <p><span>Wednesday</span><span>09:00 - 17:30</span></p>
                                <p><span>Thursday</span><span>09:00 - 17:30</span></p>
                                <p><span>Friday</span><span>09:00 - 17:30</span></p>
                                <p><span>Saturday</span><span>09:00 - 17:30</span></p>
                                <p><span>Sunday</span><span>Closed</span></p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Banbridge Store -->
                    <div id="banbridge" class="store-info">
                        <div class="map-placeholder">
                            <div class="map-thumb" aria-hidden="true"></div>
                            <p>Google Maps will only load if you choose to accept third-party content for location previews.</p>
                            <button class="load-map-btn" data-location="banbridge">Load map (may set third-party cookies)</button>
                        </div>

                        <div class="address-info">
                            <h3>Banbridge</h3>
                            <p><strong>Bedwin Soft Furnishings</strong></p>
                            <p>71 Bridge Street<br>Banbridge<br>BT32 3JU</p>
                            <p style="margin-top: 16px;"><strong>Contact:</strong></p>
                            <p><a href="tel:02840666610">Tel: 028 4066 2610</a></p>
                            <p><a href="mailto:info@bedwinsoftfurnishing.com">Email: info@bedwinsoftfurnishing.com</a></p>
                            <p><a href="https://www.instagram.com/bedwinsoftfurnishing/?hl=en" target="_blank" rel="noopener">Instagram: @bedwinsoftfurnishing</a></p>
                            
                            <div class="hours-info">
                                <h4>Opening Hours</h4>
                                <p><span>Monday</span><span>09:00 - 17:00</span></p>
                                <p><span>Tuesday</span><span>09:00 - 17:00</span></p>
                                <p><span>Wednesday</span><span>09:00 - 17:00</span></p>
                                <p><span>Thursday</span><span>09:00 - 17:00</span></p>
                                <p><span>Friday</span><span>09:00 - 17:00</span></p>
                                <p><span>Saturday</span><span>09:00 - 17:00</span></p>
                                <p><span>Sunday</span><span>Closed</span></p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <script defer src="main.js"></script>
    <script>
        function showStore(store) {
            // Hide all store info
            document.getElementById('kilkeel').classList.remove('active');
            document.getElementById('banbridge').classList.remove('active');
            
            // Remove active class from all buttons
            document.querySelectorAll('.store-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // Show selected store
            document.getElementById(store).classList.add('active');
            
            // Add active class to clicked button
            event.target.classList.add('active');
        }
    </script>

    <script>
    (function(){
        // Map URLs stored in JS only (not in HTML) to avoid Lighthouse flagging them
        var mapUrls = {
            kilkeel: {
                src: 'https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2309.8427859447686!2d-4.4065!3d54.0667!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x48676b57c5555555%3A0x1234567890abcdef!2s142%20Newry%20Rd%2C%20Kilkeel%2C%20County%20Down%20BT34%204ET!5e0!3m2!1sen!2suk!4v1234567890',
                width: '600',
                height: '350',
                title: 'Google Maps - Kilkeel Store'
            },
            banbridge: {
                src: 'https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2315.5!2d-6.2559!3d54.3453!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x48670d9d9d9d9d9d%3A0x1234567890abcdef!2s71%20Bridge%20Street%2C%20Banbridge%2C%20BT32%203JU!5e0!3m2!1sen!2suk!4v1234567890',
                width: '600',
                height: '350',
                title: 'Google Maps - Banbridge Store'
            }
        };

        // Cookie consent management
        var CONSENT_COOKIE = 'bedwin_third_party_consent';
        var CONSENT_DAYS = 30;

        function setCookie(name, value, days) {
            var expires = new Date();
            expires.setTime(expires.getTime() + (days * 24 * 60 * 60 * 1000));
            document.cookie = name + '=' + value + ';expires=' + expires.toUTCString() + ';path=/;SameSite=Lax';
        }

        function getCookie(name) {
            var nameEQ = name + '=';
            var cookies = document.cookie.split(';');
            for (var i = 0; i < cookies.length; i++) {
                var cookie = cookies[i].trim();
                if (cookie.indexOf(nameEQ) === 0) {
                    return cookie.substring(nameEQ.length);
                }
            }
            return null;
        }

        function createIframe(src, width, height, title) {
            var iframe = document.createElement('iframe');
            iframe.src = src;
            iframe.width = width || '600';
            iframe.height = height || '350';
            iframe.loading = 'lazy';
            iframe.referrerPolicy = 'no-referrer-when-downgrade';
            iframe.allowFullscreen = true;
            iframe.title = title || 'Google Map';
            return iframe;
        }

        function loadMapFromButton(btn) {
            var location = btn.dataset.location;
            var mapData = mapUrls[location];
            if (!mapData) return;
            
            var placeholder = btn.closest('.map-placeholder');
            if (!placeholder) return;
            var container = document.createElement('div');
            container.className = 'map-container';
            container.appendChild(createIframe(mapData.src, mapData.width, mapData.height, mapData.title));
            placeholder.parentNode.replaceChild(container, placeholder);
        }

        function handleConsent(granted) {
            setCookie(CONSENT_COOKIE, granted ? 'yes' : 'no', CONSENT_DAYS);
            var banner = document.getElementById('cookieBanner');
            if (banner) banner.classList.add('hidden');
            if (granted) {
                document.querySelectorAll('.load-map-btn').forEach(function(btn) {
                    loadMapFromButton(btn);
                });
            }
        }

        document.addEventListener('DOMContentLoaded', function() {
            var consent = getCookie(CONSENT_COOKIE);
            var banner = document.getElementById('cookieBanner');
            var acceptBtn = document.getElementById('cookieAccept');
            var rejectBtn = document.getElementById('cookieReject');

            // Show banner only if no prior consent
            if (consent === null && banner) {
                banner.classList.remove('hidden');
            } else if (banner) {
                banner.classList.add('hidden');
            }

            // Set up button listeners
            if (acceptBtn) {
                acceptBtn.addEventListener('click', function() {
                    handleConsent(true);
                });
            }
            if (rejectBtn) {
                rejectBtn.addEventListener('click', function() {
                    handleConsent(false);
                });
            }

            // Auto-load maps if consent is granted
            if (consent === 'yes') {
                document.querySelectorAll('.load-map-btn').forEach(function(btn) {
                    loadMapFromButton(btn);
                });
            }
        });

        // Handle direct map button clicks
        document.addEventListener('click', function(e) {
            var btn = e.target.closest && e.target.closest('.load-map-btn');
            if (btn) {
                loadMapFromButton(btn);
                setCookie(CONSENT_COOKIE, 'yes', CONSENT_DAYS);
            }
        });
    })();
    </script>
</body>
</html>
